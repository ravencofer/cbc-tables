---
---

<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>2016 California Building Code Tables</title>
</head>
<body>

<h1>2016 California Building Code Tables</h1>

<label>JOB NAME: <input name="job_name"></label>

<label>
  <select name="selected-occupancy" id="selected-occupancy">
   
    {% for item in site.data["1004-1-2"] %}
    <option data-area-type = "{{item.areaType}}" data-load-factor = "{{item.occLoadFactor}}"> 
      {{item.occTypeMain}} {{item.occTypeSub}} </option>
    {% endfor %}

    
  </select>
</label>

<label>
  <span id="area-type" >Gross</span> Area: <input name="area" id="user-area">
</label>

<label>
  Occupancy:<input readonly name="occupancy" id="occ-calc">

</label>

<script>
  
  function capitalizeFirstLetter(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
}

  
//make variable
var occ_type = document.getElementById('selected-occupancy')

//listen for an occupancy type change area label to gross or net
occ_type.addEventListener("change",function(){
  var selected_option = occ_type.options[occ_type.selectedIndex]

  var value = selected_option.getAttribute("data-area-type")

  document.getElementById('area-type').innerHTML=capitalizeFirstLetter(value)
})

//take the user given area and divide it by the occ-cat occ factor
var userArea = document.getElementById('user-area')
userArea.addEventListener("change", function(){
value = userArea.value / 300
document.getElementById('occ-calc').value = Math.ceil(value)

})

</script>

</body>
</html>
